{% extends "smartmin/base.html" %}
{% load i18n compress temba %}

{% block title-text %}
  {% trans "AI Models" %}
{% endblock title-text %}
{% block content %}
  <div class="llm-options">
    {% for llm_type in llm_types %}
      <temba-modax header="{{ llm_type.name }}" endpoint="{% url 'ai.types.'|add:llm_type.slug|add:'.connect' %}">
        <div class="card link">
          <div class="relative">
            <temba-icon name="{{ llm_type.get_icon }}" class="text-base absolute text-gray-100 bg-icon">
            </temba-icon>
          </div>
          <div class="flex flex-col mx-20 relative">
            <div class="title">{{ llm_type.name }}</div>
            <div class="mt-2">{% include llm_type.get_connect_blurb %}</div>
          </div>
        </div>
      </temba-modax>
    {% endfor %}
  </div>
  {% if llms %}
    <!-- table of llms -->
    <div class="px-2">
      <table class="w-full">
        <th>
          <tr>
            <td class="py-1 font-bold color-gray-600 border-b">Name</td>
            <td class="py-1 border-b">Model</td>
            <td class="py-1 border-b" style="text-align:right">Created On</td>
          </tr>
        </th>
        <tr>
          <td style="padding-bottom:0.25em"></td>
        </tr>
        {% for llm in llms %}
          <tr>
            <td class="py-1">{{ llm.name }}</td>
            <td class="py-1">
              <temba-icon name="openai" style="display:inline-block;vertical-align:middle;margin-right:0.25em">
              </temba-icon>
              {{ llm.config.model }}
            </td>
            <td class="py-1" style="text-align:right">{{ llm.created_on|date }}</td>
          </tr>
        {% endfor %}
      </table>
    </div>
  {% endif %}
{% endblock content %}
{% block extra-style %}
  <style type="text/css">
    .bg-icon {
      font-size: 90px;
      transform: translate(-45px, 10px) rotate(-15deg);
    }
  </style>
{% endblock extra-style %}
